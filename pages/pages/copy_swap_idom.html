<!-- Latest compiled and minified CSS -->
<head>
    <link href="css/shCore.css" rel="stylesheet" type="text/css" />
    <link href="css/shThemeDefault.css" rel="stylesheet" type="text/css" />
</head>
 <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
<div class="jumbotron text-center">
        <h1>The copy and swap idom - to overload the assignment operator</h1>
</div>

<div name="slide">
    <h2>The assignment operator</h2>
    <p>In the array class we had </p>
    <pre  class='brush: cpp'>
        Array &Array::operator =(const Array& src)
        {
            if(ptr_to_data != src.ptr_to_data)
            {
                setSize(s.m_size);
                for(int i = 0; i< m_size; i++)
                {
                    ptr_to_data[i] = src.ptr_to_data[i];
                }
            }
            return (*this);
        }
    </pre>

    <p>Problems with the foregoing code are</p>
    <ol>
        <li>The self-assign check - mostly just an exercise; waste of time</li>
        <li>THe stroll down the array - this we've alread coded</li>
    </ol>

    <p>Answer:</p>
    <pre  class='brush: cpp'>
        Array &Array::operator =(Array src)
        {
            swap(*this, src);
            return (*this);
        }
    </pre>
    <p>This truly amazing code!</p>

    <p>What is so important her is that you be very careful about the swap that you use!</p>

    <p>It is often said that your user-defined types should create or recreate the "big three":</p>
    <ol>
        <li>copy constructor</li>
        <li>assignment opertator</li>
        <li>destructor</li>
    </ol>
    <p>We assert that it really should be the "big four", WRITE YOUR OWN SWAP</p>

    <pre class="brush: cpp">
        class Array
        {
            public:
                friend void swap(Array &A1, Array &A2);
                {
                    std::swap(A1.m_size, A2.m_size);
                    std::swap(A1.ptr_to_data, A2.ptr_to_data);
                }
        }
    </pre>
    <p>
        Why! Why make you own swap? WHy not use the std swap in the first place? Well, when the std swap swaps, it
        uses the assignment operator! That is wat you're already defining!!!
    </p>

    <h2>So, make your own swap:</h2>
    <p>The next point to understand: THe pass by value/copy. Why? Let the compiler make the copy for you using the 
        copy constructor
    </p>

    <pre class="brush: cpp">
        Array &Array::operator=(Array src)
        {
            swap(*this, src);
            return (*this);
        } // way cool code!
    </pre>

    
</div>